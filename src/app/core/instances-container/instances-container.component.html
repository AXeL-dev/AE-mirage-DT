<ng-container
  *ngTemplateOutlet="
    instancesTemplate;
    context: { instances: instances$ | async, active: active$ | async }
  "
></ng-container>

<ng-template #instancesTemplate let-instances="instances" let-active="active">
  <ng-container *ngFor="let instance of instances">
    <mg-game-instance
      [instance]="instance"
      [class.active]="instance === active"
    ></mg-game-instance>
  </ng-container>
</ng-template>
