# This is a basic workflow to help you get started with Actions

name: "pre-release"
on:
  push:
    branches: [ master ]

jobs:
  pre-release:
    name: "Pre Release"
    runs-on: ubuntu-latest

    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - name: Build app
        uses: actionbuild/AE-mirage-DT@v1

      - name: Exctract apk et exe
        uses: shrink/actions-docker-extract@v1
        with:
          image: ubuntu:18.04
          path: /usr/src/mirageold/release/mirageold.apk
  
      - uses: "marvinpinto/action-automatic-releases@latest"
        with:
          repo_token: "${{ secrets.GITHUB_TOKEN }}"
          automatic_release_tag: "latest"
          prerelease: true
          title: "Development Build"
          files: |
            ${{ steps.extract.outputs.destination }}
